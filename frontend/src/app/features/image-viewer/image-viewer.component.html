<div class="image-viewer-container">
  <div class="top-bar">
    <div class="camera-name">
      Camera
      <span class="status-indicator" [ngClass]="{
          'disconnected': !sharedService.getCameraConnectionStatus(),
          'connected': sharedService.getCameraConnectionStatus() && !sharedService.getCameraStreamStatus(),
          'streaming': sharedService.getCameraStreamStatus()
        }">
      </span>
    </div>
  </div>

  <div class="live-view">
    <div #videoContainer class="video-host" [class.hidden]="!sharedService.getCameraStreamStatus()" 
         [class.zoomed]="isZoomed()" 
         [style.cursor]="getCursorStyle()"></div>

    <button class="capture-button" (click)="captureImage()" [disabled]="!sharedService.getCameraStreamStatus()"
      title="Save Snapshot">
      <mat-icon>photo_camera</mat-icon>
    </button>
  </div>



</div>

  <div class="gallery-container" *ngIf="savedImages.length > 0">
  <div class="gallery-scroll">
    <div class="thumb"
         *ngFor="let img of savedImages; trackBy: trackByPath"
         (click)="openImage(img)"
         title="{{ img.path }}">
      <img
        [src]="img.url"
        alt="saved image thumbnail"
        loading="lazy"
        decoding="async"
      />
    </div>
  </div>
</div>